var CoreUtilities,LoggerModule,VisibilityChangeHelperModule,sj_anim,sj_fader,ShowWebView,HitHighlightingParserImpl,DataSourceLayoutManager,ThresholdDiagnosticsProd,FailedPromise,ThresholdUtilitiesM2;_w.EventsToDuplicate=[];_w.useSharedLocalStorage=!1;define("shared",["require","exports"],function(n,t){function s(n,t){for(var r=n.length,i=0;i<r;i++)t(n[i])}function r(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];return function(){n.apply(null,i)}}function u(n){i&&event&&(event.returnValue=!1);n&&typeof n.preventDefault=="function"&&n.preventDefault()}function f(n){i&&event&&(event.cancelBubble=!0);n&&typeof n.stopPropagation=="function"&&n.stopPropagation()}function e(n,t,i){for(var r=0;n&&n.offsetParent&&n!=(i||document.body);)r+=n["offset"+t],n=n.offsetParent;return r}function o(){return(new Date).getTime()}function h(n){return i?event:n}function c(n){return i?event?event.srcElement:null:n.target}function l(n){return i?event?event.fromElement:null:n.relatedTarget}function a(n){return i?event?event.toElement:null:n.relatedTarget}function v(n,t,i){while(n&&n!=(i||document.body)){if(n==t)return!0;n=n.parentNode}return!1}function y(n){window.location.href=n}function p(n,t){n.style.filter=t>=100?"":"alpha(opacity="+t+")";n.style.opacity=t/100}var i=sb_ie;t.forEach=s;t.wrap=r;t.preventDefault=u;t.stopPropagation=f;t.getOffset=e;t.getTime=o;window.sj_b=document.body;window.sb_de=document.documentElement;window.sj_wf=r;window.sj_pd=u;window.sj_sp=f;window.sj_go=e;window.sj_ev=h;window.sj_et=c;window.sj_mi=l;window.sj_mo=a;window.sj_we=v;window.sb_gt=o;window.sj_so=p;window.sj_lc=y});define("env",["require","exports","shared"],function(n,t,i){function v(n,t){return t.length&&typeof n=="function"?function(){return n.apply(null,t)}:n}function y(n,t){var e=[].slice.apply(arguments).slice(2),u=v(n,e),i;return i=window.setImmediate&&!window.setImmediate.Override&&(!t||t<=16)?"i"+setImmediate(u):o(u,t),f[r]=i,r=(r+1)%a,i}function p(n,t){var r=[].slice.apply(arguments).slice(2),i=l(v(n,r),t);return e[u]=i,u=(u+1)%a,i}function w(){h.forEach(f,s);h.forEach(e,window.clearInterval);r=u=e.length=f.length=0}function s(n){n!=null&&(typeof n=="string"&&n.indexOf("i")===0?window.clearImmediate(parseInt(n.substr(1),10)):c(n))}var h=i,f=[],e=[],o,c,l,a=1024,r=0,u=0;o=window.setTimeout;t.setTimeout=y;l=window.setInterval;t.setInterval=p;t.clear=w;c=window.clearTimeout;t.clearTimeout=s;window.sb_rst=o;window.setTimeout=window.sb_st=y;window.setInterval=window.sb_si=p;window.clearTimeout=window.sb_ct=s});define("event.custom",["require","exports"],function(n,t){function o(n){return i[n]||(i[n]=[])}function s(n,t){n.d?setTimeout(function(){n.apply(null,t)},n.d):n(t)}function l(){for(var n=0;n<u.length;n++)f.apply(null,u[n]);u=[]}function a(n){for(var t in i)t.indexOf(c)===0||n!=null&&n[t]!=null||delete i[t]}function f(n){for(var t,h=[],f=1;f<arguments.length;f++)h[f-1]=arguments[f];if(n){n==="onPP"?r=!0:r||window.fb_is!=null||(r=!0);var i=o(n),c=i.e=arguments,e=!1;for(t=0;t<i.length;t++)i[t].alive&&(i[t].beforeOnPP||r?s(i[t].func,c):e||(u.push(arguments),e=!0));n==="onPP"&&l()}}function e(n,t,i,u,f){if(n){var e=o(n);t&&(t.d=u,e.push({func:t,alive:!0,beforeOnPP:f}),i&&e.e&&(f||r)&&s(t,e.e))}}function h(n,t){for(var r=0,u=i[n];u&&r<u.length;r++)if(u[r].func==t&&u[r].alive){u[r].alive=!1;break}}var i={},r=!1,u=[],c="ajax.";t.reset=a;t.fire=f;t.bind=e;t.unbind=h;window.sj_evt={bind:e,unbind:h,fire:f};e("onPP",function(){window.fb_is&&window.fb_is()},!0)});define("event.native",["require","exports","event.custom"],function(n,t,i){function r(n,t,r,u){var f=n===window||n===document||n===document.body;n&&(f&&t=="load"?i.bind("onP1",r,!0):f&&t=="unload"?i.bind("unload",r,!0):n.addEventListener?n.addEventListener(t,r,u):n.attachEvent?n.attachEvent("on"+t,r):n["on"+t]=r)}function u(n,t,r,u){var f=n===window||n===document||n===document.body;n&&(f&&t=="load"?i.unbind("onP1",r):f&&t=="unload"?i.unbind("unload",r):n.removeEventListener?n.removeEventListener(t,r,u):n.detachEvent?n.detachEvent("on"+t,r):n["on"+t]=null)}t.bind=r;t.unbind=u;window.sj_be=r;window.sj_ue=u});define("dom",["require","exports","env","shared","event.native","event.custom"],function(n,t,i,r,u,f){function o(n,t){function c(n,t,i,r){i&&u.unbind(i,r,c);f.bind("onP1",function(){if(!n.l){n.l=1;var i=e("script");i.setAttribute("data-rms","1");i.src=(t?"/fd/sa/"+_G.Ver:"/sa/"+_G.AppVer)+"/"+n.n+".js";_d.body.appendChild(i)}},!0,5)}for(var o=arguments,s,h,i=2,l={n:n};i<o.length;i+=2)s=o[i],h=o[i+1],u.bind(s,h,r.wrap(c,l,t,s,h));i<3&&c(l,t)}function s(){var n=_d.getElementById("ajaxStyles");return n||(n=_d.createElement("div"),n.id="ajaxStyles",_d.body.insertBefore(n,_d.body.firstChild)),n}function l(n){var t=e("script");t.type="text/javascript";t.text=n;t.setAttribute("data-bing-script","1");document.body.appendChild(t);i.setTimeout(function(){document.body.removeChild(t)},0)}function a(n){var t=e("script");t.type="text/javascript";t.src=n;t.onload=i.setTimeout(function(){document.body.removeChild(t)},0);document.body.appendChild(t)}function h(n){var t=c("ajaxStyle");t||(t=e("style"),t.setAttribute("data-rms","1"),t.id="ajaxStyle",s().appendChild(t));t.textContent!==undefined?t.textContent+=n:t.styleSheet.cssText+=n}function c(n){return _d.getElementById(n)}function e(n,t,i){var r=_d.createElement(n);return t&&(r.id=t),i&&(r.className=i),r}t.loadJS=o;t.getCssHolder=s;t.includeScript=l;t.includeScriptReference=a;t.includeCss=h;_w._ge=c;_w.sj_ce=e;_w.sj_jb=o;_w.sj_ic=h});define("cookies",["require","exports"],function(n,t){function r(n,t){var r,u;return i?null:(r=_d.cookie.match(new RegExp("\\b"+n+"=[^;]+")),t&&r)?(u=r[0].match(new RegExp("\\b"+t+"=([^&]*)")),u?u[1]:null):r?r[0]:null}function u(n,t,u,f,e,o){var c,s,h,l;if(i)return null;s=t+"="+u;h=r(n);h?(l=r(n,t),c=l?h.replace(t+"="+l,s):h+"&"+s):c=n+"="+s;var a=location.hostname.match(/([^.]+\.[^.]*)$/),v=o&&o>0?o*6e4:63072e6,y=new Date((new Date).getTime()+Math.min(v,63072e6));_d.cookie=c+(a?";domain="+a[0]:"")+(f?";expires="+y.toGMTString():"")+(e?";path="+e:"")}function f(n){if(!i){var r=n+"=",t=location.hostname.match(/([^.]+\.[^.]*)$/);_d.cookie=r+(t?";domain="+t[0]:"")+";expires="+o}}function e(){var r=null,e,n,u,t,f;if(!i)for(r={},e=_d.cookie;n=s.exec(e);){for(t={},f=!1;u=h.exec(n[2]);)f=!0,t[u[1]]=u[2];f||(t=n[2]);r[n[1]]=t}return r}var i=!1,o=new Date(0).toGMTString(),s=new RegExp("([^=]+)=([^;]*)(; )?","g"),h=new RegExp("([^=]+)=([^&]*)&?","g"),c;try{c=_d.cookie}catch(l){i=!0}t.get=r;t.set=u;t.clear=f;t.parse=e;_w.sj_cook={get:r,set:u,clear:f,parse:e}});define("rmsajax",["require","exports","event.custom"],function(n,t,i){function l(){for(var i,n=[],t=0;t<arguments.length;t++)n[+t]=arguments[t];if(n.length!=0){if(i=n[n.length-1],n.length==1)ot(i)&&f.push(i);else if(n.length==3){var o=n[0],s=n[1],u=n[2];st(o)&&st(s)&&ot(u)&&(ht(r,o,u),ht(e,s,u))}return window.rms}}function nt(){var i=arguments,n,t;for(o.push(i),n=0;n<i.length;n++)t=i[n],ct(t,r),t.d&&tt.call(null,t);return window.rms}function bt(){var t=arguments,n;for(s.push(t),n=0;n<t.length;n++)ct(t[n],e);return window.rms}function a(){var t,i,n;for(ii(),t=!1,n=0;n<o.length;n++)t=tt.apply(null,p.call(o[n],0))||t;for(i=0;i<s.length;i++)t=ni.apply(null,p.call(s[i],0))||t;if(!t)for(n=0;n<f.length;n++)f[n]()}function tt(){var n=arguments,t,i,f,e;if(n.length===0)return!1;if(t=r[ut(n[0])],n.length>1)for(i=ri.apply(null,n),f=0;f<i.length;f++)e=i[f],e.run=u,kt(e,function(n){return function(){dt(n,i)}}(e));else t.run=u,ft(t,function(){it(t)});return!0}function kt(n,t){var r,i;if(!n.state){if(n.state=yt,at(n)){t();return}window.ActiveXObject!==undefined||wt.test(navigator.userAgent)?(r=new Image,r.onload=t,r.onerror=t,r.src=n.url):(i=new XMLHttpRequest,i.open("GET",n.url,!0),i.onreadystatechange=function(){i.readyState==4&&t()},i.send())}}function dt(n,t){n.run==u&&(n.state=w,rt(t))}function gt(n,t){n.run==u&&ft(n,function(n){return function(){it(n,t)}}(n))}function it(n,t){n.run==u&&(n.state=c,ti(n),t)&&rt(t)}function rt(n){for(var i,t=0;t<n.length;t++){i=n[t];switch(i.state){case w:gt(i,n);return;case c:continue}return}}function ut(n){for(var t in n)return t}function ni(){return!1}function ti(n){for(var t=0;t<n.callbacks.length;t++)n.callbacks[t].dec()}function ft(n,t){var i,e,o,u,r;if(n.state!=b&&n.state!=c)if(n.state=b,i=h.createElement("SCRIPT"),i.type="text/javascript",i.setAttribute("data-rms","1"),i.onreadystatechange=i.onload=function(){var n=i.readyState;(!n||/loaded|complete/.test(n))&&et(t)},at(n)){if(e=n.app?d:k,(o=h.getElementById(e))&&(u=o.childNodes)&&u[n.pos]&&(r=u[n.pos].innerHTML,r!=="")){var s=4,l=3,f=r.length,a=r.substring(0,s),v=r.substring(f-l,f);a=="<!--"&&v=="-->"&&(r=r.substring(s,f-l));i.text=r;h.body.appendChild(i)}et(t)}else i.src=n.url,h.body.appendChild(i)}function et(n){n.done||(n.done=!0,n())}function ot(n){return g.call(n)=="[object Function]"}function st(n){return g.call(n)=="[object Array]"}function ht(n,t,i){for(var u,f=new v(i),r=0;r<t.length;r++)u=n[t[r]],u||(u=lt(n,t[r])),y(u,f)}function ii(){for(var t,i,u,n=0;n<f.length;n++){t=new v(f[n]);for(i in r)y(r[i],t);for(u in e)y(e[u],t)}}function y(n,t){n.callbacks.push(t);t.inc()}function ct(n,t){for(var i in n)if(typeof n[i]!=undefined)return lt(t,i,n[i])}function lt(n,t,i){return n[t]||(n[t]={callbacks:[],onPrefetch:[]},n[t].key=t),t.indexOf(pt)==0&&(n[t].app=!0),isNaN(i)?n[t].url=i:n[t].pos=i,n[t]}function ri(){for(var i,t=[],n=0;n<arguments.length;n++)i=ut(arguments[n]),t.push(r[i]);return t}function at(n){return!n.url}function ui(){var n,t;r={};e={};f=[];o=[];s=[];u+=1;n=document.getElementById(k);n&&n.parentNode.removeChild(n);t=document.getElementById(d);t&&t.parentNode.removeChild(t);vt()}function vt(){i.bind("onP1Lazy",function(){l(function(){i.fire("onP1")});a()},!0)}var p=[].slice,yt=1,w=2,b=3,c=4,u=0,pt="A:",k="fRmsDefer",d="aRmsDefer",r={},e={},f=[],o=[],s=[],g=Object.prototype.toString,h=document,wt=/edge/i,v;t.onload=l;t.js=nt;t.css=bt;t.start=a;v=function(n){var t=0,i=!1;this.inc=function(){i||t++};this.dec=function(){i||(t--,t==0&&(i=!0,n()))}};t.reset=ui;vt();window.rms={onload:l,js:nt,start:a}});_w.InstrumentationConfig={VisibilityEventEnabled:!0};_w.LogUploadCapFeatureEnabled=!1;_w.InstLogQueueKeyFetcher={Get:function(n){var t="eventLogQueue";return n.indexOf("AS/API")===1?t+"_Online":t+"_Offline"},GetSharedLocation:function(){return"eventLogQueue_Shared"},CanUploadSharedMessages:function(n){return _w.useSharedLocalStorage&&n.indexOf("AS/API")===1?!0:!1}};define("clientinst_xls",["require","exports","env","event.native","event.custom","shared"],function(n,t,i,r,u,f){function ni(){function n(n,t){typeof e[n]=="undefined"&&(e[n]=t)}_w.ClientInstConfig||(_w.ClientInstConfig={});e=ClientInstConfig;n("flushInterval",5e3);n("retryInterval",1e3);n("maxStorageUse",5e5);n("maxBatchSize",1e5);n("queueDumpInterval",500);n("waitForPageInfo",!1);n("pageInfoTimeout",5e3);n("logUploadCapSizeInChar",15728640*.5);n("logUploadCapIntervalInDays",30);n("isInstrumentationEnabled",!0)}function ct(){it=0;w=_G.ST?_G.ST.getTime():0}function h(n,t,i,r){var u={errorType:n,failCount:t},o,s,e;if(g(u),r){o={impressionGuid:i,previousImpressionGuid:null,timestamp:f.getTime(),type:0,data:{eventType:tt,eventData:u}};s=ut([o],[]);try{e=sj_gx();e.open("POST",_G.XLS,!0);e.send(s)}catch(h){throw h;}}else et(tt,u,null,null,null,i,null,null)}function ti(){function t(){c||(c=function(){});lt();h("PageInfoTimedOut",0,_G.IG)}ni();ct();u.bind("ajax.unload",ct);try{s=_w.localStorage;o.initialize()}catch(i){}var n=null;e.waitForPageInfo&&(n=sb_st(t,e.pageInfoTimeout));sj_evt.bind("ClientInst.PageInstInfo",function(t){n&&(sb_ct(n),n=null);c=t[1];c&&lt()})}function lt(){for(var n=0,t,i;rt.length>0;){try{i=rt.shift();t=JSON.parse(i)}catch(r){n++;continue}c&&c(t.data);b(t)}n>0&&h("InvalidIncompleteImpressions",n,_G.IG)}function b(n){o.append(n);y()}function a(n){return JSON.stringify(n).replace(/]]>/g,"]]]\]><![CDATA[>")}function ii(n,t,i){var f,u,r;t.push("<E>","<T>Event.",n.data.eventType,"<\/T>","<IG>",n.impressionGuid,"<\/IG>");n.previousImpressionGuid&&t.push("<PrevIG>",n.previousImpressionGuid,"<\/PrevIG>");n.dominantImpressionGuid&&n.previousImpressionGuid&&t.push("<DominantIG>",n.dominantImpressionGuid,"<\/DominantIG>");f=n.data.dataSources;f&&t.push("<DS><![CDATA[",a(f),"]\]><\/DS>");u=n.data.pageLayout;u&&k(u)&&t.push("<Page><L><![CDATA[",a(u),"]\]><\/L><\/Page>");r=n.data.eventData;r||(r=n.data.eventData={});r.UTS=i;_w.LogOffline===!0&&(r.isOffline=navigator.onLine?0:1);t.push("<D><![CDATA[",a(r),"]\]><\/D>","<TS>",n.timestamp,"<\/TS>","<\/E>")}function k(n){var t=!1,i;try{n instanceof Array?t=n.every(k):(t=!!n.T,i=n.L,t&&i&&(t=k(i)))}catch(r){return SharedLogHelper.LogWarning("PageLayoutValidationException",null,r),!1}return t||SharedLogHelper.LogWarning("PageLayoutValidationException",JSON?JSON.stringify(n):n,null),t}function d(n,t,i){n.push('<requestInfo key="',t,'" value="',i,'"/>')}function ri(n,t,i){function f(n){return n?n.replace(/&/g,"&amp;").replace(/"/g,"&quot;"):""}var r=n.data,e,u,c,o,s,h;t.push("<Group>","<M>","<IG>",n.impressionGuid,"<\/IG>","<DS><![CDATA[",a(r.dataSources),"]\]><\/DS>");e=r.enrichedClientInfo;e||(e={});e.ImpressionUrl=r.impressionUrl;_G.AppVer&&(e.ResourcesVersion=_G.AppVer);u=n.data.eventData;u||(u=n.data.eventData={});u.EnrichedClientInfo=e;u.TS=r.clientTimestamp;u.UTS=i;c=r.uxClassification;c&&(u.UxClassification=c);_w.sj_cook&&sj_cook.parse&&(u.Cookies=sj_cook.parse());t.push("<D><![CDATA[",a(u),"]\]><\/D>");t.push("<Page>","<Name>",r.pageName,"<\/Name>");o=r.layoutNodes;o&&k(o)&&t.push("<L><![CDATA[",a(o),"]\]><\/L>");t.push("<\/Page>","<TS>",n.timestamp,"<\/TS>","<Ovr>");d(t,"RawQuery",f(r.rawQuery));d(t,"IsQuery",f(r.isQuery.toString()));d(t,"Form",f(r.form));s=r.userInfoOverrides;for(h in s)s.hasOwnProperty(h)&&d(t,f(h),f(s[h]));t.push('<userInfo key="AppName" value="',f(r.appName),'"/>',"<\/Ovr>","<\/M>","<\/Group>")}function g(n){var t=window.location.href,i,r,u;return v&&t.indexOf(v)===0||(i=t.indexOf("?"),i<0&&(i=t.indexOf("#")),v=i<0?t:t.substring(0,i),r=_w.ThresholdUtilities,r&&(u=r.getUrlParameter(t,"FORM"),u&&(v+="?FORM="+u))),n.CurUrl=v,n.Pivot=_G.PN,typeof ThresholdUtilities!="undefined"&&_w.SearchAppWrapper&&_w.SearchAppWrapper.CortanaApp&&ThresholdUtilities.getCortanaHeaders(function(t){if(t){var i;(i=t["X-BM-ClientFeatures"])&&(n.CF=i);(i=t["X-BM-FlightedFeatures"])&&(n.FF=i)}}),n}function ut(n,t){var r=["<ClientInstRequest>"],u=f.getTime(),e=_G.CID||sj_cook.get(ht,ht),o,i,s;if(e&&r.push("<CID>",e,"<\/CID>"),n.length>0){for(r.push("<Events>"),i=0;i<n.length;i++)o=n[i],ii(o,r,u);r.push("<\/Events>")}if(t.length>0)for(i=0;i<t.length;i++)s=t[i],ri(s,r,u);return r.push("<\/ClientInstRequest>"),r.join("")}function y(n,t){if(n===void 0&&(n=!1),t===void 0&&(t=!0),e.isInstrumentationEnabled){var r=n?l.retryQueue:l.mainQueue;r.flushTimeoutHandle||(r.flushTimeoutHandle=i.setTimeout(function(){return at(n,r,!1,t)},r.getInterval()))}}function at(n,t,i,r){var k,c,u,d,p,v,g,w,y,a,s,b;if(r===void 0&&(r=!0),sb_ct(t.flushTimeoutHandle),t.flushTimeoutHandle=null,!n||!l.mainQueue.inProgressUpload){if(!n&&l.retryQueue.inProgressUpload&&l.retryQueue.inProgressUpload.abort(),t.inProgressUpload)if(k=f.getTime()-t.requestSentTimestamp,i||k>e.flushInterval)t.inProgressUpload.abort(),i?h("SendAbortedForceFlush",1,_G.IG):h("SendTimedOut",1,_G.IG);else return;if(c=o.getBatch(n),c.length!=0){u={};for(d in c.events)p=c.events[d],v=p.flights,u[v]||(u[v]={events:[],mpis:[]}),u[v].events.push(p.log);for(g in c.masterPageImpressions)w=c.masterPageImpressions[g],y=w.flights,u[y]||(u[y]={events:[],mpis:[]}),u[y].mpis.push(w.log);for(a in u)s=sj_gx(),s.open("POST",_G.XLS,r),b=sj_df(ui,s,t,n),r&&(e.flushInterval>=1e3&&(s.timeout=e.flushInterval),s.onload=b),s.setRequestHeader("Content-type","text/xml"),a!==""&&(s.setRequestHeader("X-MSEdge-ExternalExpType","JointCoord"),s.setRequestHeader("X-MSEdge-ExternalExp",a)),t.inProgressUpload=s,t.requestSentTimestamp=f.getTime(),s.send(ut(u[a].events,u[a].mpis)),r||b(null)}}}function ui(n,t,i,r){if(t.readyState===4){i.inProgressUpload=null;var u=Math.floor(t.status/100);u===2?(o.clearSentItems(r)&&!r&&y(!1),y(!0)):u===4?(o.markFailedItems(!0,r),y(!0)):o.markFailedItems(!1,r);r&&o.recordRetryAttempt()}}function vt(n,t){n===void 0&&(n=!1);t===void 0&&(t=!0);at(!1,l.mainQueue,n,t)}function ft(n,t,i,r,u,e,o,s){var h={},c,l;if(g(h),t)if(typeof t=="string")h.Text=t;else for(c in t)t.hasOwnProperty(c)&&(h[c]=t[c]);return i&&(h.T="CI."+i),l=f.getTime(),h.TS=l,h.RTS=l-w,h.SEQ=it++,{type:0,impressionGuid:e!=null?e:_G.IG,previousImpressionGuid:o,timestamp:l,data:{eventType:n,eventData:h,dataSources:r,pageLayout:u},dominantImpressionGuid:s}}function yt(n){var t=sj_gx();t.open("POST",_G.XLS);t.setRequestHeader("Content-type","text/xml");t.send(ut(n,[]))}function et(n,t,i,r,u,f,o,s){var h,c;if(EventsToDuplicate&&n==="Click"&&EventsToDuplicate.indexOf("duplicateClickOnLs")>=0&&(_G.GPImg=new Image,_G.GPImg.src=_G.gpUrl+"IG="+_G.IG+"&ID="+t.AppNS+","+t.K,n="XlsDelayedClick"),!_G.XLS)throw new Error("_G.XLS is necessary for clientinst_xls, but it is not defined");e.isInstrumentationEnabled&&(h=ft(n,t,i,r,u,f,o,s),EventsToDuplicate&&(EventsToDuplicate.indexOf("ALL")>=0||EventsToDuplicate.indexOf(n)>=0)&&(c=ft("Immediate"+n,t,i,r,u,f,o,s),yt([c])),b(h))}function pt(n){var t,i,r;e.isInstrumentationEnabled&&(c&&c(n),n.clientTimestamp=f.getTime(),t=n.eventData,t||(t=n.eventData={}),g(t),i={type:1,impressionGuid:n.impressionGuid?n.impressionGuid:_G.IG,previousImpressionGuid:null,timestamp:n.clientTimestamp,data:n},EventsToDuplicate&&(EventsToDuplicate.indexOf("ALL")>=0||EventsToDuplicate.indexOf("masterPageImpression")>=0)&&(r=ft("ImmediateMaster",t,n.impressionUrl,n.dataSources,n.layoutNodes,n.impressionGuid,null,null),yt([r])),c||!e.waitForPageInfo?b(i):rt.push(JSON.stringify(i)))}function wt(n,t,i){for(var r,o,h,u=[],s=4;s<arguments.length;s++)u[s-4]=arguments[s];if(e.isInstrumentationEnabled){if(r={},u)for(o=0;o<u.length;o+=2)r[u[o]]=u[o+1];h=f.getTime();r.T="CI."+n;r.TS=h;r.RTS=h-w;r.SEQ=it++;r.Name=i;r[typeof t=="number"?"K":"FID"]=t;g(r);b({type:0,impressionGuid:_G.IG,previousImpressionGuid:null,timestamp:w,data:{eventType:n,eventData:r}})}}function ot(n){n===void 0&&(n=!0);o.dumpToStorage();vt(!0,n)}function nt(){o.dumpToStorage();vt(!1)}function bt(){o.dumpToStorage(!0)}function kt(){o.dumpToStorage()}function dt(){p=null;_CachedFlights=undefined}var st,o,l;(function(n){n[n.EVENT=0]="EVENT";n[n.MASTER_PAGE_IMPRESSION=1]="MASTER_PAGE_IMPRESSION"})(st||(st={}));var ht="MUID",p=null,tt="CIQueueError",e,gt=864e5,it,w,s,rt=[],c,v;(function(n){function k(){return c&&e.isInstrumentationEnabled}function d(n){var r,t;if(n===void 0&&(n=!1),k()){r=ct(n);try{t=n?a:o;s[t]=r;s[t+"_logUploadIntervalStartDate"]=u;s[t+"_uploadedLogSizeInInterval"]=i}catch(f){if(f.name.toLowerCase().indexOf("quota")>=0)c=!1;else throw f;}}}function v(){k()&&(l&&sb_ct(l),l=sb_st(d,e.queueDumpInterval))}function it(n,t){var i=JSON.stringify(n),r=i.length+3;return n.size=r,t?i.replace('"size":0','"size":'+r):i}function rt(n){return p===null&&typeof _CachedFlights!="undefined"&&_CachedFlights.sort&&(p=_CachedFlights.sort().join(",")),{log:n,lastSendErrorTimeStamp:0,inProgress:!1,size:0,flights:p}}function ut(){var n,r,i;if(s){if(at(),n=s[o],t=[],typeof n=="string"||n&&n.length!==0)try{if(t=JSON.parse(n),t.some(function(n){return!n.log}))h("PrimaryQueueRestoreInvalidItems",t.length,_G.IG),t=[];else if(r=t.length,r>0){for(i=0;i<r;i++)t[i].inProgress=!1;y()}}catch(u){h("PrimaryQueueRestoreFailed",0,_G.IG)}s[o]="[]";c=!0}}function ft(n){var l=[],v=[],u=n?r[0]:t,o,f,y,p,c,i,w;if(nt){if(o=s[a],typeof o=="string"&&o.length!==0)try{f=JSON.parse(o);f.some(function(n){return!n.log})?h("SharedQueueRestoreInvalidItems",f.length,_G.IG):u?Array.prototype.push.apply(u,f):u=f}catch(b){h("SharedQueueRestoreFailed",0,_G.IG)}s[a]="[]"}if(u)for(y=0,p=u.length,c=0;c<p;c++)if(i=u[c],n||!i.lastSendErrorTimeStamp)if(y+=i.size,y<=e.maxBatchSize)i.inProgress=!0,w=i.log,w.type==1?v.push(i):l.push(i);else break;return{events:l,masterPageImpressions:v,length:l.length+v.length,isRetryBatch:n}}function et(n){return t=t.filter(function(t){return!t.inProgress&&(!n||!!t.lastSendErrorTimeStamp)}),v(),t.length>0}function ot(n){return n.log.type===0&&n.log.data&&n.log.data.eventType===tt}function st(n,i){for(var e=[],c=i?r[0]:t,o=0,u,s,l;o<c.length;)u=c[o],u.inProgress?n?(c.splice(o,1),ot(u)||(u.lastSendErrorTimeStamp=f.getTime(),e.push(u))):(u.inProgress=!1,o++):o++;s=e.length;s==1?h("InvalidLogMessage",1,e[0].log.impressionGuid):s>0&&(l=s/2,r.push(e.slice(0,l)),r.push(e.slice(l)));v()}function ht(){var n,t,i;if(r.length>0){for(n=r[0],t=0;t<n.length;)i=n[t],i.inProgress?n.splice(t,1):t++;n.length==0&&r.shift()}}function ct(n){var c=JSON.stringify(t),u=c.length-e.maxStorageUse,f=t.length,r,i,o,s;if(u>0)for(r=0,i=0;i<f;i++)if(o=t[i].size,r+=o+1,r>=u){t.splice(0,i+1);h("QueueOverflow",i+1,_G.IG,!0);break}return s=JSON.stringify(t),n&&t.splice(0,f),s}function lt(n){var i=rt(n);it(i,!1);vt(i.size)&&t.push(i);v()}function at(){var t=o+"_logUploadIntervalStartDate",r=o+"_uploadedLogSizeInInterval",n;u=s[t];i=s[r];n=sb_gt();u==undefined||i==undefined?w(n):g(u,n)>=e.logUploadCapIntervalInDays&&w(n)}function w(n){u=n;i=0}function g(n,t){var i=t-n;return i/gt}function vt(n){var t,r;return e.isInstrumentationEnabled?LogUploadCapFeatureEnabled?(t=sb_gt(),g(u,t)>=e.logUploadCapIntervalInDays&&w(t),i>=e.logUploadCapSizeInChar)?!1:(r=i+n,r>=e.logUploadCapSizeInChar)?(h("LogUploadSizeLimitReached",1,_G.IG,!0),i=e.logUploadCapSizeInChar,!1):(i=r,!0):!0:!1}var t=[],u,i,c=!1,l=null,r=[],b=_w.location.pathname,o=InstLogQueueKeyFetcher.Get(b),a=InstLogQueueKeyFetcher.GetSharedLocation(),nt=InstLogQueueKeyFetcher.CanUploadSharedMessages(b);n.dumpToStorage=d;n.initialize=ut;n.getBatch=ft;n.clearSentItems=et;n.markFailedItems=st;n.recordRetryAttempt=ht;n.append=lt})(o||(o={}));l={mainQueue:{getInterval:function(){return e.flushInterval}},retryQueue:{getInterval:function(){return e.retryInterval}}};t.LogEvent=et;t.LogMasterPageImpression=pt;t.Log=wt;t.ForceFlush=ot;ti();t.FlushMainQueueDontForce=nt;t.SaveLogsToSharedStorage=bt;t.SaveLogsToLocalStorage=kt;t.ResetState=dt;u.bind("onP1",nt,!0);u.bind("ajax.postload",nt,!0);r.bind(_w,"beforeunload",ot,!1);_w.Log={Log:wt};_w.Log2={LogEvent:et,LogMasterPageImpression:pt,ForceFlush:ot,FlushMainQueueDontForce:nt,SaveLogsToSharedStorage:bt,ResetState:dt,SaveLogsToLocalStorage:kt}}),function(n){function i(n){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];return t.apply(null,[null,n].concat(r))}function t(n,t){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];return function(){for(var f,r=[],u=0;u<arguments.length;u++)r[+u]=arguments[u];if(r&&r.length!==0)for(f in i)i.hasOwnProperty(f)&&r.push(i[f]);else r=i;return t.apply(n,r)}}function r(){for(var n,r,t=[],i=0;i<arguments.length;i++)t[+i]=arguments[i];for(n=t[0],r=1;r<t.length;r++)if(n)n=n[t[r]];else return null;return n}n.deferFunction=i;n.deferMethod=t;n.getProperty=r;window.sj_df=i;window.sj_dm=t;window.sj_gp=r}(CoreUtilities||(CoreUtilities={})),function(n){function v(n,t,i,u,o){(new Image).src=_G.lsUrl+'&Type=Event.ClientInst&DATA=[{"T":"CI.Error","FID":"CI","Name":"JSError","Text":'+n+"}]";r(1,f,e,n,t,i,u,o)}function y(n,t,i,u,o){r(1,f,e,n,t,i,u,o)}function p(n,t,i){r(2,l,a,n,t,i)}function w(n){i=n}function r(n,r,u,f,e,o,h,c){var p="Error",w=n+f,a=r[w],d,l,y,v;(typeof a!="number"&&(a=0),i(o,f))||(d=f.substr(0,7)=="http://"||f.substr(0,8)=="https://"?"":f,!o&&e&&(o=e,e=undefined),l={Text:null,Stack:null,Meta:_w.location.href,Line:h,Char:c,Name:"JSError"},Object.defineProperty(l,"Text",{get:sj_df(b,l,d,e,n,o)}),Object.defineProperty(l,"Stack",{get:sj_df(k,l,e,n,o)}),a<u&&(y=JSON.stringify(l),v=!1,n===1?(console.error(y),v=!0):n===2&&(console.warn(y),p="Warning",v=!0),Log2.LogEvent(s,l,p,null,null,null,null,null),r[w]=a+1,v&&t(l,"c",1)),sj_evt&&sj_evt.fire("ErrorInstrumentation",null,l,n,o))}function o(n,i,r){var u=n.errorLines,f;return u||(f=i===1&&r?r.stack||r.message:null,u=(r?(f||r)+"":"").replace(h,"").replace(c,"\n").replace(location.href,"self").split("\n"),u.length>1&&u[0]===u[1]&&(u=u.slice(1)),t(n,"errorLines",u)),u}function b(n,i,r,u,f){var e=n.logTextCache,s,h;return e||(s=f?f.number:null,h=o(n,u,f),e=(i?"["+i+"] ":"")+(s?s+" ":"")+h[0],r=="Uncaught "+e&&(e=r),t(n,"logTextCache",e)),e}function k(n,i,r,u){var f=n.logStackCache,e;return f||(e=o(n,r,u),f=n.Text+(i&&i!=n.Text?"\n"+i:"")+(e.length>1?"\n"+e.slice(1).join("\n"):""),t(n,"logStackCache",f)),f}function t(n,t,i){Object.defineProperty(n,t,{value:i})}var u,i;(function(n){n[n.None=0]="None";n[n.Error=1]="Error";n[n.Warning=2]="Warning"})(u||(u={}));var s="ClientInst",h=/\r/g,c=/\n\n/g,f={},e=1,l={},a=1;n.LogFatalError=v;n.LogError=y;n.LogWarning=p;i=function(){return!1};n.RegisterErrorFilter=w}(LoggerModule||(LoggerModule={}));_w.SharedLogHelper={LogError:LoggerModule.LogError,LogWarning:LoggerModule.LogWarning,RegisterErrorFilter:LoggerModule.RegisterErrorFilter},function(n){function u(n,u,f){i||(n&&u&&(n.addEventListener("statechanged",r),sj_be(u,"visibilitychange",r,!1)),i=!0);t.indexOf(f)===-1&&t.push(f)}function f(){return t}function r(n){var u=!1,f,e,i,o,s,r;if(_w.clickFlushedTime&&sb_gt()-_w.clickFlushedTime<100&&(u=!0),n.synthetic!==!0)try{if(i=n.newState,typeof i!="undefined"?(e=i!==0,f=i===0?"hidden":"visible"):(e=!document.hidden,f=document.visibilityState),u||sj_evt.fire("visibility",e,i),f!=="visible"){for(o in t)s=t[o],s();_w.useSharedLocalStorage?Log2.SaveLogsToSharedStorage():u?Log2.FlushMainQueueDontForce():Log2.ForceFlush()}r=document.createEvent("event");r.initEvent("visibilitychange",!0,!0);r.synthetic=!0;document.dispatchEvent(r)}catch(h){SharedLogHelper.LogFatalError("SharedLogVisibilityFailure",null,h)}}var t=[],i=!1;n.Register=u;n.GetHandlers=f}(VisibilityChangeHelperModule||(VisibilityChangeHelperModule={}));_w.VisibilityChangeEventHelper={Register:VisibilityChangeHelperModule.Register,GetHandlers:VisibilityChangeHelperModule.GetHandlers};sj_anim=function(n){var s=25,t=this,c,u,h,f,e,o,l,i,r;t.init=function(n,s,a,v,y){if(c=n,e=s,o=a,l=v,r=y,v==0){f=h;r&&r();return}i||(i=e);u||t.start()};t.start=function(){h=sb_gt();f=Math.abs(o-i)/l*s;u=setInterval(t.next,s)};t.stop=function(){clearInterval(u);u=0};t.next=function(){var u=sb_gt()-h,s=u>=f;i=e+(o-e)*u/f;s&&(t.stop(),i=o);n(c,i);s&&r&&r()};t.getInterval=function(){return s}};sj_fader=function(){return new sj_anim(function(n,t){sj_so(n,t)})};define("framework",["require","exports","event.custom"],function(n,t,i){i.bind("onPP",function(){i.fire("onP1Lazy")},!0)}),function(){var n=!1;sj_evt.bind("ErrorInstrumentation",function(t,i){return n=i==1},!0);sj_be(_w,"load",function(){var t,r,i;typeof SearchAppWrapper!="undefined"&&(t=SearchAppWrapper.CortanaApp,r=_ge("b_pg_dlyd"),r||(sj_evt.fire("BeforeShowWebView"),n||(i="showWebViewAsync",t&&t[i]&&ThresholdUtilities.wrapApiCallWithTimeout(t,i,"SWV",null,500,null))))})}(ShowWebView||(ShowWebView={}));_w.LogOffline=!1,function(n){function e(n){return n?n.replace(u,"").replace(f,""):n}function h(t,i){var r,o;if(!t)return[];var h=[],c=!1,s=0;for(r=0;r<=t.length;++r)c?t[r]==n.endMarker&&(o={text:t.substring(s,r).replace(u,""),highlighted:!0},o.text.length>0&&h.push(o),c=!1,s=r+1):t[r]==n.startMarker&&(o={text:t.substring(s,r).replace(f,""),highlighted:!1},o.text.length>0&&h.push(o),c=!0,s=r+1);return s!=t.length&&(o={text:e(t.substring(s)),highlighted:c},h.push(o)),i&&h.forEach(function(n){return n.highlighted=!n.highlighted}),h}function c(r,u){var u;if(!r)return r;if(!u||(u=i(u.toLocaleLowerCase()),r.toLocaleLowerCase()==u))return n.startMarker+r+n.endMarker;var f=o(r),h=[],l=o(u),a=[],e=-1,c=!1;return l.forEach(function(r,u){var v,o,s,l,y;if(r.length>0&&(v=!r.match(t),c||v)){for(o=0,s=++e;s<f.length+e;++s){if(o=s%f.length,!h[o]&&(l=f[o],y=!l.match(t),(c||y)&&i(l.toLocaleLowerCase())==r)){f[o]=n.startMarker+l+n.endMarker;h[o]=!0;a[u]=!0;c=!0;break}c=!1}e=o}}),e=-1,l.forEach(function(r,u){var o,c,s,l,v;if(!a[u]&&r.length>0){for(o=0,c=++e;c<f.length+e;++c)if(o=c%f.length,!h[o]&&(s=f[o],l=!s.match(t),l&&(v=i(s.toLocaleLowerCase()).indexOf(r),v==0))){f[o]=n.startMarker+s.substr(0,r.length)+n.endMarker+s.substr(r.length);h[o]=!0;break}e=o}}),"".concat.apply("",f).replace(s,"")}function o(n){var r=[],i=0;return n.replace(t,function(t,u,f,e){return e>i&&r.push(n.substr(i,e-i)),r.push(t),i=e+t.length,t}),i<n.length&&r.push(n.substr(i,n.length-i)),r}function i(n){for(var u,f=!1,t=n.split(""),i=t.length-1;i>=0;--i)u=t[i],r.hasOwnProperty(u)&&(t[i]=r[u],f=!0);return f&&(n=t.join("")),n}var r;n.startMarker=String.fromCharCode(57344);n.endMarker=String.fromCharCode(57345);var u=new RegExp(n.startMarker,"g"),f=new RegExp(n.endMarker,"g"),s=new RegExp(n.endMarker+n.startMarker,"g"),t=new RegExp("([\\s.。?!,،\"':;¿¡/\\-()+_@=&"+String.fromCharCode(160)+"\\\\]|%(20|23|24|26|2b|2c|2f|3a|3d|3f|40))+","gi");n.removeMarkers=e;n.split=h;n.addMarkers=c;n.removeDiacritics=i;r={"ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","œ":"oe","ɶ":"oe","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ſ":"s","ẛ":"s","ß":"ss","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","０":"0","₀":"0","⓪":"0","⁰":"0","¹":"1","⑴":"1","₁":"1","❶":"1","⓵":"1","⒈":"1","①":"1","１":"1","²":"2","❷":"2","⑵":"2","２":"2","₂":"2","⓶":"2","②":"2","⒉":"2","³":"3","３":"3","⒊":"3","⑶":"3","₃":"3","❸":"3","⓷":"3","③":"3","⓸":"4","④":"4","⒋":"4","４":"4","⁴":"4","₄":"4","❹":"4","⑷":"4","⒌":"5","₅":"5","⓹":"5","⑸":"5","❺":"5","⑤":"5","５":"5","⁵":"5","⑹":"6","⁶":"6","６":"6","❻":"6","₆":"6","⑥":"6","⓺":"6","⒍":"6","７":"7","⁷":"7","❼":"7","⓻":"7","⒎":"7","₇":"7","⑺":"7","⑦":"7","⑧":"8","⒏":"8","⓼":"8","⑻":"8","⁸":"8","８":"8","❽":"8","₈":"8","⓽":"9","９":"9","⒐":"9","❾":"9","⑼":"9","₉":"9","⑨":"9","⁹":"9"}}(HitHighlightingParserImpl||(HitHighlightingParserImpl={}));HitHighlightingParser=HitHighlightingParserImpl,function(n){function b(){return ct++}function bt(n,i,r,f){var h=tt(n,i,!0,f,!1),v=[],c,l,y,s,a,w,o,d;if(h&&h.length>0)for(c=0;c<h.length;c++)l=h[c],v.push({T:"L.MI",Action:"Update",AppNS:l.AppNS,K:l.K,L:l.L});if(y=_G.IG,r&&(y=r),s=[],a=t[y],a)for(w in a)if(o=a[w].tree,o.IsInstrumented())nt(o,s);else{var b=o.GetValue(),p=o.GetChildren(),k=[];if(p.length>0){for(d in p)k.push(e(p[d]));b.DS=k}s.push(b);u(o)}return v.length>0||s.length>0?(Log2.LogEvent("ClientInst",null,null,s,v,null,null,null),!0):!1}function r(n,i,u,f,e,o,s){var a=_G.IG,h,y,l,c,v;if(o&&(a=o),t[a]||(t[a]=[]),h={AppNS:n,K:b(),T:"D.Item"},Object.defineProperty(h,"RefCount",{writable:!0,value:1}),i&&(h.Url=i,h.T="D.Url"),u&&(h.N=u),s&&(h.T=s),e?(y=g(h,e,a),!y&&InstrumentationConfig.CopyDataCommand&&(gt(e,a),g(h,e,a))):t[a].push(new ht(new ot(h))),f)for(l in f)if(f.hasOwnProperty(l))if(c=f[l],c===null||c===undefined||c.length===0||at.test(c))console.warn("Skipping logging datasource field key: "+l+" because it has no value.");else if(lt[l]===!0)if(typeof c!="string"&&c.length)for(v in c)c.hasOwnProperty(v)&&r(n,null,l,{childElementIndex:v,childElementValue:c[v]},h,null,"constructedChildNode");else h[l]=c;else console.warn("Unknown datasource field key: "+l+". skipping logging value: "+c);return h}function kt(n,t,i,u,f,e){var o={},s;u&&(o.Service=u);o.Scenario=i;for(s in e)o[s]=e[s];return r(n,null,null,o,null,f,t)}function dt(n,t,i,u){return k(r(n,t,i,null,u))}function k(n){return new st(n)}function d(n,i,f){var s,e,o,h;for(s in t){e=t[s];for(h in e)e[h].kValueExists(n)&&(o=h);if(o&&e[o].kValueExists(n)){var c=r(i,null,null,null,null,f,null),l=e[o].tree.GetValue(),a=[];a.push({T:"D.MI",Action:"Move",SrcAppNS:l.AppNS,SrcK:l.K,DestAppNS:c.AppNS,DestK:c.K});Log2.LogEvent("ClientInst",null,null,a,null,null,s,null);t[f].push(e[o]);u(e[o].tree);return}}SharedLogHelper.LogError("missingDataSourceException","couldn't find data source with appNS "+i+" and k value "+n)}function gt(n,t){d(n.K.toString(),n.AppNS,t)}function g(n,i,r){var u=[],e=t[r],o,f,s,h,c;for(o in e)for(u.push(e[o].tree);u.length>0;){if(f=u.pop(),s=f.GetValue(),s.K===i.K&&s.AppNS===i.AppNS)return f.AddChild(n),e[o].addKValue(n.K.toString()),!0;h=f.GetChildren();for(c in h)u.push(h[c])}return!1}function e(n){var u=n.GetValue(),i=n.GetChildren(),r,t;if(i.length>0){for(r=[],t=0;t<i.length;t++)r.push(e(i[t]));u.DS=r}return u}function nt(n,t){var i=n.GetChildren(),o=n.GetValue(),r,c;for(r in i)if(i[r].IsInstrumented())nt(i[r],t);else{var s=i[r].GetValue(),f=i[r].GetChildren(),h=[];if(f.length>0){for(c in f)h.push(e(f[c]));s.DS=h}t.push({T:"D.MI",Action:"Append",AppNS:o.AppNS,K:o.K,DS:[s]});u(i[r])}}function u(n){var i,t;for(n.SetIsInstrumented(),i=n.GetChildren(),t=0;t<i.length;t++)u(i[t])}function ni(n){var f,r,h,i,a;if(_w.logInstPerf&&_w.ThresholdUtilities&&ThresholdUtilities.recordApiTime("DSL"+o+"S"),f=[],r=t[n],r)for(h in r)if(i=r[h].tree,!i.IsInstrumented()){var c=i.GetValue(),s=i.GetChildren(),l=[];if(s.length>0){for(a in s)l.push(e(s[a]));c.DS=l}f.push(c);u(i)}return _w.logInstPerf&&_w.ThresholdUtilities&&(ThresholdUtilities.recordApiTime("DSL"+o+"C"),o++),f}function tt(n,t,r,u,f){var l,h,o,c,a,v,e;if(_w.logInstPerf&&_w.ThresholdUtilities&&ThresholdUtilities.recordApiTime("LL"+i+"S"),n.parentElement&&(n=n.parentElement),l=n.querySelectorAll(vt),h=l.length,h==0)return _w.logInstPerf&&_w.ThresholdUtilities&&(ThresholdUtilities.recordApiTime("LL"+i+"A"),i++),[];for(o=[],e=0;e<h;e++)c=rt(l,e,h,null,t,u,f),c&&(e=c.lastProcessedIndex,o.push(c));if(r){for(v=[],e=0;e<o.length;++e)et(v,it(o[e]));a=v.map(s)}else a=o.map(s);return _w.logInstPerf&&_w.ThresholdUtilities&&(ThresholdUtilities.recordApiTime("LL"+i+"C"),i++),a}function it(n){var i=[],u=n.layout.AppNS,r,t;for(r in n.children)if(t=n.children[r],t.isLogged)t.layout.AppNS||(t.layout.AppNS=u),et(i,it(t));else{i.push(n);break}return i}function rt(n,t,i,r,u,e,o){var b=[],a=n[t],nt=a.hasAttribute(v)||a.hasAttribute(f),tt=a.getAttribute(y)==="1",k,w,g,p,it,d;if(o&&tt&&!nt)return null;if(k=ti(a,r,u,null),w={isContainer:nt,lastProcessedIndex:t,layout:k,isLogged:tt,children:b},(a.hasAttribute(c)||a.hasAttribute(h)||a.hasAttribute(l))&&a.setAttribute(y,"1"),!w.isContainer)return w;for(g=k.AppNS,p=t+1;p<i;p++)if(it=n[p],a.contains(it))d=rt(n,p,i,g?g:r,u,e,o),d&&(p=d.lastProcessedIndex,b.push(d));else break;if(b.length>0)k.L=b.map(s);else if(e)return null;return w.lastProcessedIndex=p-1,w}function s(n){return n.layout}function ti(n,i,r,u){var s=null,y=null,g=!n.hasAttribute(v)&&!n.hasAttribute(f),nt=n.getAttribute(h),b,o,tt,e,ut;if(nt&&(o=ft(nt),o&&(s=o.K,y=o.AppNS)),b=n.getAttribute(c),b&&(o=ft(b),o&&(s=o.K,y=o.AppNS)),s||(s=n.getAttribute(l)),tt=g?wt:yt,e={T:tt},s){var it=s.split(".",1)[0],k=u?u:_G.IG,rt=!1;for(ut in t[k])if(t[k][ut].kValueExists(it)){rt=!0;break}!rt&&InstrumentationConfig.CopyDataCommand&&d(it.toString(),y,k);e.K=s}return y&&y!==i?e.AppNS=y:y||i||(e.AppNS=r),g||(n.hasAttribute(f)&&(e.Region=n.getAttribute(f)),n.hasAttribute(a)&&(e.Results=n.getAttribute(a)),n.hasAttribute(p)&&(e.Role=n.getAttribute(p)),n.hasAttribute(w)&&(e.T=pt,e.InsertId=n.getAttribute(w)),e.L=[]),e}function ft(n){if(!n)return null;var t=ut.exec(n);return t&&t.length==3?{AppNS:t[1],K:t[2]}:null}function et(n,t){if(n&&t)for(var i in t)n.push(t[i])}var ot=function(){function n(n){this.children=[];this.instrumented=!1;this.value=n}return n.prototype.AddChild=function(t){this.children.push(new n(t))},n.prototype.GetValue=function(){return this.value},n.prototype.GetChildren=function(){return this.children},n.prototype.IsInstrumented=function(){return this.instrumented},n.prototype.SetIsInstrumented=function(){this.instrumented=!0},n}(),st=function(){function n(n){this.hValue="ID="+n.AppNS+","+n.K;this.dsItem=n;this.dsRefCount=n.RefCount++}return n.prototype.GetNamespacedKValue=function(){return this.hValue+"."+this.dsRefCount},n.prototype.GetKValue=function(){return this.dsItem.K.toString()+"."+this.dsRefCount},n.prototype.GetDataSource=function(){return this.dsItem},n.prototype.GetUrlWithFormCode=function(){return this.dsItem?this.dsItem.Url:null},n}(),ht=function(){function n(n){this.kValuesContained={};this.tree=n;this.kValuesContained[n.GetValue().K.toString()]=!0}return n.prototype.addKValue=function(n){this.kValuesContained[n]=!0},n.prototype.kValueExists=function(n){return this.kValuesContained[n]},n}(),ct=1,o=0,i=0,lt={T:!0,Service:!0,Scenario:!0,AppNS:!0,K:!0,AppID:!0,AppName:!0,Url:!0,CDT:!0,LMD:!0,EXT:!0,PHits:!0,Rank:!0,SettingID:!0,DS:!0,SPDisplay:!0,PPMiss:!0,order:!0,indexed:!0,count:!0,alterationState:!0,childElementIndex:!0,childElementValue:!0,added:!0,promoted:!0,suppresssedBy:!0},at=new RegExp("/^s*$/"),t={},h="h",c="data-h",l="data-k",f="data-region",a="data-results",v="data-isregion",y="data-logged",p="data-role",w="data-insertionpoint",vt="[data-k], [data-isregion], [h], [data-h], [data-region]",yt="L.Box",pt="L.Box.Dynamic",wt="L.Url",ut;n.CreateKValue=b;n.LogUpdatedLayoutCentralizedDataSources=bt;n.CreateDataSourceItem=r;n.CreateDataSourcesRoot=kt;n.CreateInstrumentedItem=dt;n.CreateInstrumentedItemFromDs=k;n.GetNewDataSources=ni;n.CreateLayoutNode=tt;ut=/ID=(\w+),(\d+(?:\.\d+)*)/i}(DataSourceLayoutManager||(DataSourceLayoutManager={}));_w.DsLManager=DataSourceLayoutManager;ThresholdDiagnosticsProd=function(){function n(){this.debugStrings=[];sj_evt.bind("ajax.feedback.initialized",sj_dm(this,this.registerFeedbackDebugCallback),!0);sj_evt.bind("ajax.threshold.pageStart",sj_dm(this,this.clearDebugStrings))}return n.prototype.recordApiString=function(n){console.log(n);this.debugStrings.push(n)},n.prototype.clearDebugStrings=function(){this.debugStrings.length=0},n.prototype.collectDebugInfo=function(n){var t={};return n&&(t.apiDebug=this.debugStrings.toString()),t},n.prototype.registerFeedbackDebugCallback=function(n){var t=n[1].debugCollector;t.registerCollectionCallback(sj_dm(this,this.collectDebugInfo))},n}();_w.ThresholdDiagnostics=new ThresholdDiagnosticsProd;FailedPromise=function(){function n(){this.isActive=!0;this.operation=null}return n.prototype.then=function(n,t){return this.handleError(t),this},n.prototype.done=function(n,t){this.handleError(t)},n.prototype.handleError=function(n){this.isActive&&n&&_w.setImmediate(function(){return n(null)})},n.prototype.cancel=function(){this.isActive=!1},n}();ThresholdUtilitiesM2=function(){function n(){this.regExes={};this.guidCleaner=/[-{}]/g;this.ampersandSanitizer=/&+$|((\?|&|#)&+)/g;this.isFirstPageStart=!0;this.startTime=_w.performance?_w.performance.timing.navigationStart:si_ST;this.apiSequenceNumber=0;this.headersAsyncPromise=null;this.headersCallComplete=!1;this.cortanaHeaders=null;this.themeColor=null;this.isDarkTheme=null;this.headersCallTimeout=3e3;this.headersCallbacks=[];this.rtlLangs=["ar","dv","fa","he","ku-arab","pa-arab","prs","ps","sd-arab","syr","ug","ur","qps-plocm"];sj_evt.bind("ajax.threshold.pageStart",sj_dm(this,this.onPageStart),1)}return n.prototype.getUrlParameter=function(n,t){for(var r=null,f=this.getParameterRegex(t),u,i;u=f.exec(n);)i=u;return i&&i.length>=2?r=i[1]:t==="mock"&&(r=this.getMockParameter(n)),r},n.prototype.setUrlParameter=function(n,t,i){var r=n,u=this.getParameterRegex(t).exec(n),f="&",e,o,s;return u?(f=u[0].substring(0,1),e=u.index,o=u.index+u[0].length,r=n.substring(0,e),i&&(r+=f+t+"="+i),r+=n.substring(o)):i&&(s=this.getRegex("devicecontent"),s.test(n)?n.indexOf("#")<0&&(f="#"):n.indexOf("?")<0&&(f="?"),r=n+f+t+"="+i),r},n.prototype.getDecodedQuery=function(n){var i=n,t;return i||(i=_w.location.href),t=this.getUrlParameter(i,"q"),t&&(t=decodeURIComponent(t.replace(this.getRegex("\\+")," ")).trim()),t},n.prototype.getUrlReadyQuery=function(n){return encodeURIComponent(n).replace(this.getRegex("%20"),"+")},n.prototype.recordApiTimeDetail=function(n,t,i){var u=new Date,f,r,e,o;if(n&&(_G.ApiTimes=_G.ApiTimes||{},_G.ApiTimes[n]=u.getTime()-this.startTime),i){f={};for(r in i)i.hasOwnProperty(r)&&(f[r]=i[r]);i=f;i.time=u}else i={time:u,label:n||t,sequence:this.apiSequenceNumber++};return e=_w.msWriteProfilerMark,o=i.sequence+","+(n||i.label),e&&e(o),_w.performance&&performance.mark&&performance.mark(o),i},n.prototype.recordApiTime=function(n){return this.recordApiTimeDetail(n),null},n.prototype.uploadApiTimes=function(n){var t=_G.ApiTimes;this.recordApiTime(n);t&&typeof Log2!="undefined"&&Log2&&(Log2.LogEvent("CPT2",{wt:t},null,null,null,null,null,null),_G.ApiTimes={})},n.prototype.wrapSynchronousApiCall=function(n,t,i,r){for(var e,o,s,h=this,f=[],u=4;u<arguments.length;u++)f[u-4]=arguments[u];e=this.recordApiTimeDetail(i?i+"S":null,t);s=function(n,u){var o=h.recordApiTimeDetail(i?i+n:null,t,e),s=u?" exception: "+u.stack:"";h.recordApiString("ApiEnd "+n+' \t"'+(r?r:"")+'"\t'+t+"("+f.join(", ")+")\t"+(o.time.getTime()-e.time.getTime())+"ms elapsed"+s)};try{o=n[t].apply(n,f);s("C")}catch(c){s("E",c);SharedLogHelper.LogError("Exception","Failed while calling overrideMethod: "+t,c);o=null}return o},n.prototype.wrapApiCall=function(){for(var i,n=[],t=4;t<arguments.length;t++)n[t-4]=arguments[t];for(n=[],i=0;i<arguments.length;i++)n.push(arguments[i]);return n.splice(4,0,0,null),this.wrapApiCallWithTimeout.apply(this,n)},n.prototype.wrapApiCallWithTimeout=function(n,t,i,r,u,f){for(var y,s=[],h=6;h<arguments.length;h++)s[h-6]=arguments[h];if(_w.SearchAppWrapperLogging)return n[t].apply(n,s);var l=this,a=this.recordApiTimeDetail(i?i+"S":null,t),e,o,c=function(n,u){var e="stack",o=l.recordApiTimeDetail(i?i+n:null,t,a),f=u&&u[e]?" exception: "+u[e]:"";u&&f===""&&(f=" Windows error: "+u.message);l.recordApiString("ApiEnd "+n+' \t"'+(r?r:"")+'"\t'+t+"("+s.join(", ")+")\t"+(o.time.getTime()-a.time.getTime())+"ms elapsed"+f)};try{o=n[t].apply(n,s);this.recordApiTimeDetail(i?i+"P":null,t);u&&u>0&&(e=sb_st(function(){o&&o.cancel&&o.cancel();c("T");f&&f(null)},u));o.then(function(n){return e&&sb_ct(e),c("C"),n},function(n){e&&sb_ct(e);c("E",n);SharedLogHelper.LogError("Exception","Failed in overrideMethod callback: "+t,n);f&&f(null)})}catch(v){e&&sb_ct(e);c("E",v);SharedLogHelper.LogError("Exception","Failed while calling overrideMethod: "+t,v);y=new FailedPromise;o=y.then(null,f)}return o},n.prototype.cleanGuid=function(n){var t=n;return t&&(t=t.replace(this.guidCleaner,"")),t},n.prototype.parseJSON=function(n){var t,i=null;if(n)try{t=JSON.parse(n)}catch(r){i=r}return t||console.log("Unable to parse JSON input: "+n+(i?".  Exception: "+i:"")),t},n.prototype.getCortanaHeaders=function(n){var i=this,t,r;if(this.headersCallComplete){n(this.cortanaHeaders);return}if(this.headersCallbacks.push(n),!this.headersAsyncPromise){t=null;r=!1;function f(){t&&(sb_ct(t),t=null);i.headersCallComplete=!0}function u(n){var u,f,t;if(!r)for(u=i.headersCallbacks,f=u.length,t=0;t<f;t++)u[t](n)}function e(n){f();i.cortanaHeaders=n;u(n)}function o(){f();u(null)}t=sb_st(function(){u(null);r=!0},this.headersCallTimeout);this.headersAsyncPromise=this.wrapApiCall(SearchAppWrapper.CortanaApp,"getQueryHeadersAsync","GQH_","getQueryHeaders").then(e,o)}},n.prototype.getThemeColor=function(n){function u(n){var t,r;i.themeColor===null&&n&&(t=n.split(";"),t.length==2&&(i.isDarkTheme=t[0]=="000000",r=t[1],r&&(i.themeColor="#"+r)))}var t=this,i=this,r;this.themeColor===null?(r=SearchAppWrapper.CortanaApp.theme,typeof r!="undefined"?(u(r),n(this.themeColor,this.isDarkTheme)):this.getCortanaHeaders(function(i){t.themeColor===null&&i&&(u(i["X-BM-Theme"]),n(t.themeColor,t.isDarkTheme))})):n(this.themeColor,this.isDarkTheme)},n.prototype.isRightToLeftLanguage=function(n){return this.rtlLangs.some(function(t){return n=n.toLocaleLowerCase(),n==t||n.indexOf(t+"-")==0})},n.prototype.setBodyLangAttributes=function(n){_d.body.setAttribute("dir",this.isRightToLeftLanguage(n)?"rtl":"ltr");_d.body.setAttribute("lang",n)},n.prototype.getEmptyTaskFrame=function(n){return{CustomTaskFrame:!0,Status:"InProgress",Uri:"",TypeId:"b89d219d-7b61-48e7-8f3c-367e4a0e631b",RawTextQuery:{Uri:"entity://TextData",TypeId:"ae77cbd2-cf71-438c-95b4-d3b86dc4a60e",State:"Filled",Source:"Unknown",ClientUpdate:!1,Value:n,ProfanityMasked:n}}},n.prototype.recordApiString=function(n){ThresholdDiagnostics.recordApiString(n)},n.prototype.pushOntoArray=function(n,t){if(n&&t)for(var i in t)n.push(t[i])},n.prototype.navigateTo=function(n,t){var i=sj_ce("a","b_hide");i.href=n;i.setAttribute("data-h",t.GetNamespacedKValue());_d.body.appendChild(i);i.click()},n.prototype.createPromise=function(n){return Promise.promise?Promise.promise(n):new Promise(n)},n.prototype.getParameterRegex=function(n){return this.getRegex("[?&#]"+n.toLowerCase()+"=([^&#]*)")},n.prototype.getRegex=function(n,t,i){var r=this.regExes[n];return r||(r=new RegExp(n,(i?"":"g")+(t?"":"i")),this.regExes[n]=r),r.lastIndex=0,r},n.prototype.getMockParameter=function(n){var r=null,t=n.indexOf("#"),u,i;return t>0&&t<n.length-1&&(u=n.substr(t+1).split("&"),i=u.filter(this.unlabeledParameterFilter),i.length>0&&(r=i[0])),r},n.prototype.unlabeledParameterFilter=function(n){return n.indexOf("=")<0},n.prototype.clearLocalCache=function(){this.cortanaHeaders=null;this.themeColor=null;this.headersAsyncPromise=null;this.headersCallComplete=!1;this.headersCallbacks=[]},n.prototype.onPageStart=function(n){console.log("onPageStart");!this.isFirstPageStart&&n[1]&&(this.startTime=n[1],this.clearLocalCache());this.isFirstPageStart=!1;sj_evt.fire("ajax.postload")},n}();_w.ThresholdUtilities=new ThresholdUtilitiesM2;sj_evt.bind("threshold.pageUnload",function(){sj_evt.fire("unload")},0)